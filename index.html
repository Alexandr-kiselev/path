<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Path Template</title>
</head>
<body>
  <style>
/* стили кнопки */
.box {
 display: none;
}
.js-copy-btn {
    cursor: pointer;
    margin-right: 20px;
    background-color: #045acf;
    color: #fff;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    transition: all .4s;
    font-weight: 700;
}
.js-copy-btn:hover {
    background-color: #2978e7;
}

.copied {
  border-color: #045acf;
}

  </style>
<div class="js-copy-target box">$path_copi = $_SERVER['DOCUMENT_ROOT'] . '/bitrix/modules/aspro.max/install/wizards/aspro/max/site/templates/aspro_max';
  $path_paste = $_SERVER['DOCUMENT_ROOT'] . '/bitrix/templates/aspro_max_test';
  function copy_dir($src, $drc)
  {
    $dir = opendir($src);
    
    if (!is_dir($drc)) {
      mkdir($drc, 0777, true);
    }
   
    while (false !== ($file = readdir($dir))) {
      if ($file != '.' && $file != '..') {
        if (is_dir($src . '/' . $file)) {
          copy_dir($src . '/' . $file, $drc . '/' . $file);
        } else {
          copy($src . '/' . $file, $drc . '/' . $file);
        }
      }
    }
  
    closedir($dir);
    $fp = fopen($drc .'/lang/ru/description.php', 'w');
    fwrite($fp, '<?
      $MESS["TEMPLATE_NAME"] = "Тестовый шаблон Аспро";
      ?>');
    fclose($fp);
  }
  
  
  
  copy_dir($path_copi, $path_paste);</div>
<button class="js-copy-btn">max</button>


<div class="js-copy-target box">$path_copi = $_SERVER['DOCUMENT_ROOT'] . '/bitrix/modules/aspro.next/install/wizards/aspro/next/site/templates';
  $path_paste = $_SERVER['DOCUMENT_ROOT'] . '/bitrix/templates/aspro_max_test';
  function copy_dir($src, $drc)
  {
    $dir = opendir($src);
    
    if (!is_dir($drc)) {
      mkdir($drc, 0777, true);
    }
   
    while (false !== ($file = readdir($dir))) {
      if ($file != '.' && $file != '..') {
        if (is_dir($src . '/' . $file)) {
          copy_dir($src . '/' . $file, $drc . '/' . $file);
        } else {
          copy($src . '/' . $file, $drc . '/' . $file);
        }
      }
    }
  
    closedir($dir);
    $fp = fopen($drc .'/lang/ru/description.php', 'w');
    fwrite($fp, '<?
      $MESS["TEMPLATE_NAME"] = "Тестовый шаблон Аспро";
      ?>');
    fclose($fp);
  }
  
  
  
  copy_dir($path_copi, $path_paste);</div>
<button class="js-copy-btn">next</button>

<div class="js-copy-target box">$path_copi = $_SERVER['DOCUMENT_ROOT'] . '/bitrix/modules/aspro.optimus/install/wizards/aspro/optimus/site/templates';
  $path_paste = $_SERVER['DOCUMENT_ROOT'] . '/bitrix/templates/aspro_max_test';
  function copy_dir($src, $drc)
  {
    $dir = opendir($src);
    
    if (!is_dir($drc)) {
      mkdir($drc, 0777, true);
    }
   
    while (false !== ($file = readdir($dir))) {
      if ($file != '.' && $file != '..') {
        if (is_dir($src . '/' . $file)) {
          copy_dir($src . '/' . $file, $drc . '/' . $file);
        } else {
          copy($src . '/' . $file, $drc . '/' . $file);
        }
      }
    }
  
    closedir($dir);
    $fp = fopen($drc .'/lang/ru/description.php', 'w');
    fwrite($fp, '<?
      $MESS["TEMPLATE_NAME"] = "Тестовый шаблон Аспро";
      ?>');
    fclose($fp);
  }
  
  
  
  copy_dir($path_copi, $path_paste);</div>
<button class="js-copy-btn">optimus</button>

<div class="js-copy-target box">$path_copi = $_SERVER['DOCUMENT_ROOT'] . '/bitrix/modules/aspro.allcorp3/install/wizards/aspro/allcorp3/site/templates';
  $path_paste = $_SERVER['DOCUMENT_ROOT'] . '/bitrix/templates/aspro_max_test';
  function copy_dir($src, $drc)
  {
    $dir = opendir($src);
    
    if (!is_dir($drc)) {
      mkdir($drc, 0777, true);
    }
   
    while (false !== ($file = readdir($dir))) {
      if ($file != '.' && $file != '..') {
        if (is_dir($src . '/' . $file)) {
          copy_dir($src . '/' . $file, $drc . '/' . $file);
        } else {
          copy($src . '/' . $file, $drc . '/' . $file);
        }
      }
    }
  
    closedir($dir);
    $fp = fopen($drc .'/lang/ru/description.php', 'w');
    fwrite($fp, '<?
      $MESS["TEMPLATE_NAME"] = "Тестовый шаблон Аспро";
      ?>');
    fclose($fp);
  }
  
  
  
  copy_dir($path_copi, $path_paste);</div>
<button class="js-copy-btn">allcorp3</button>

<div class="js-copy-target box">$path_copi = $_SERVER['DOCUMENT_ROOT'] . '/bitrix/modules/aspro.allcorp3medc/install/wizards/aspro/allcorp3medc/site/templates';
  $path_paste = $_SERVER['DOCUMENT_ROOT'] . '/bitrix/templates/aspro_max_test';
  function copy_dir($src, $drc)
  {
    $dir = opendir($src);
    
    if (!is_dir($drc)) {
      mkdir($drc, 0777, true);
    }
   
    while (false !== ($file = readdir($dir))) {
      if ($file != '.' && $file != '..') {
        if (is_dir($src . '/' . $file)) {
          copy_dir($src . '/' . $file, $drc . '/' . $file);
        } else {
          copy($src . '/' . $file, $drc . '/' . $file);
        }
      }
    }
  
    closedir($dir);
    $fp = fopen($drc .'/lang/ru/description.php', 'w');
    fwrite($fp, '<?
      $MESS["TEMPLATE_NAME"] = "Тестовый шаблон Аспро";
      ?>');
    fclose($fp);
  }
  
  
  
  copy_dir($path_copi, $path_paste);</div>
<button class="js-copy-btn">allcorp3medc</button>

<div class="js-copy-target box">$path_copi = $_SERVER['DOCUMENT_ROOT'] . '/bitrix/modules/aspro.allcorp2/install/wizards/aspro/allcorp2/site/templates';
  $path_paste = $_SERVER['DOCUMENT_ROOT'] . '/bitrix/templates/aspro_max_test';
  function copy_dir($src, $drc)
  {
    $dir = opendir($src);
    
    if (!is_dir($drc)) {
      mkdir($drc, 0777, true);
    }
   
    while (false !== ($file = readdir($dir))) {
      if ($file != '.' && $file != '..') {
        if (is_dir($src . '/' . $file)) {
          copy_dir($src . '/' . $file, $drc . '/' . $file);
        } else {
          copy($src . '/' . $file, $drc . '/' . $file);
        }
      }
    }
  
    closedir($dir);
    $fp = fopen($drc .'/lang/ru/description.php', 'w');
    fwrite($fp, '<?
      $MESS["TEMPLATE_NAME"] = "Тестовый шаблон Аспро";
      ?>');
    fclose($fp);
  }
  
  
  
  copy_dir($path_copi, $path_paste);</div>
<button class="js-copy-btn">allcorp2</button>

<div class="js-copy-target box">$path_copi = $_SERVER['DOCUMENT_ROOT'] . '/bitrix/modules/aspro.priority/install/wizards/aspro/priority/site/templates';
  $path_paste = $_SERVER['DOCUMENT_ROOT'] . '/bitrix/templates/aspro_max_test';
  function copy_dir($src, $drc)
  {
    $dir = opendir($src);
    
    if (!is_dir($drc)) {
      mkdir($drc, 0777, true);
    }
   
    while (false !== ($file = readdir($dir))) {
      if ($file != '.' && $file != '..') {
        if (is_dir($src . '/' . $file)) {
          copy_dir($src . '/' . $file, $drc . '/' . $file);
        } else {
          copy($src . '/' . $file, $drc . '/' . $file);
        }
      }
    }
  
    closedir($dir);
    $fp = fopen($drc .'/lang/ru/description.php', 'w');
    fwrite($fp, '<?
      $MESS["TEMPLATE_NAME"] = "Тестовый шаблон Аспро";
      ?>');
    fclose($fp);
  }
  
  
  
  copy_dir($path_copi, $path_paste);</div>
<button class="js-copy-btn">priority</button>

<div class="js-copy-target box">$path_copi = $_SERVER['DOCUMENT_ROOT'] . '/bitrix/modules/aspro.tires2/install/wizards/aspro/tires2/site/templates';
  $path_paste = $_SERVER['DOCUMENT_ROOT'] . '/bitrix/templates/aspro_max_test';
  function copy_dir($src, $drc)
  {
    $dir = opendir($src);
    
    if (!is_dir($drc)) {
      mkdir($drc, 0777, true);
    }
   
    while (false !== ($file = readdir($dir))) {
      if ($file != '.' && $file != '..') {
        if (is_dir($src . '/' . $file)) {
          copy_dir($src . '/' . $file, $drc . '/' . $file);
        } else {
          copy($src . '/' . $file, $drc . '/' . $file);
        }
      }
    }
  
    closedir($dir);
    $fp = fopen($drc .'/lang/ru/description.php', 'w');
    fwrite($fp, '<?
      $MESS["TEMPLATE_NAME"] = "Тестовый шаблон Аспро";
      ?>');
    fclose($fp);
  }
  
  
  
  copy_dir($path_copi, $path_paste);</div>
<button class="js-copy-btn">tires2</button><br/><br/>













<script>
setAutoCopyFeatures()

/***/

function setAutoCopyFeatures() {
  onclick_copyFrom(); /* class="js-copy-btn", "js-copy-target" */

  function onclick_copyFrom() {
    let btn = document.querySelectorAll('.js-copy-btn');
    
    for( let i = 0; i < btn.length; i++ ) {
      btn[i].addEventListener('click', function() {
        let div = document.querySelectorAll('.js-copy-target');
        
        copyToClipboard( div[i].textContent );
        ui_copyDone( this );
      });
    }
  }
  
  /***/

  function copyToClipboard(str) {
    var area = document.createElement('textarea');

    document.body.appendChild(area);
    area.value = str;
    area.select();
    document.execCommand("copy");
    document.body.removeChild(area);
  }

  function ui_copyDone(btn) {
    var contentSaved = btn.innerHTML;

    btn.innerHTML = '<span>Скопировано</span>';
    btn.classList.add('copied');

    setTimeout(function() {
      btn.innerHTML = contentSaved;
      btn.classList.remove('copied');
    }, 1500);
  }
}

</script>
</body>
</html>
